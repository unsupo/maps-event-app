webpackJsonp([1],{105:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(0),i=n(12),a=n(106),r=n(189),s=n(68),c=n(46),l=n(47),p=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,n,o,i,a,r){this.navCtrl=e,this.navParams=t,this.socketService=n,this.googleMapService=o,this.modalCtrl=i,this.ref=a,this.loginService=r,this.currentLocation=t.get("currentLocation");var s=t.get("setAddress");s&&(this.address=s);var c=t.get("setName");c&&(this.name=c)}return e.prototype.initialized=function(e){this.autocomplete=e},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterViewInit=function(){var e=this,t=document.getElementById("autocomplete").getElementsByTagName("input")[0],n={componentRestrictions:{country:"us"},bounds:this.googleMapService.getMap().getBounds()},o=new google.maps.places.Autocomplete(t,n);o.addListener("place_changed",function(){var t=o.getPlace();t&&(e.address=t.formatted_address,e.currentLocation=t.geometry.location)})},e.prototype.ionViewDidLoad=function(){},e.prototype.dismiss=function(){this.navCtrl.pop(this)},e.prototype.getCategories=function(){if(localStorage.getItem(c.a.categories)){var e=JSON.parse(localStorage.getItem(c.a.categories)),t=[];for(var n in e)t.push(e[n].name);return t}console.log("No categories provided")},e.prototype.openSearch=function(){this.modalCtrl.create(r.a).present()},e.prototype.setCurrentLocation=function(){this.address="CURRENT_LOCATION",this.currentLocation=this.googleMapService.getCurrentLocation(),this.ref.detectChanges()},e.prototype.submit=function(){this.name&&this.loginService&&this.loginService.user&&this.loginService.user.token&&(this.socketService.sendMessageWithDestination(JSON.stringify({lat:this.currentLocation.lat(),lng:this.currentLocation.lng(),eventName:this.name,address:this.address,description:this.description,token:this.loginService.user.token,category:this.category}),"/app/event"),this.dismiss())},e}();g=p([Object(i.d)(),Object(o.Component)({selector:"page-add-modal",template:'\x3c!--\n  Generated template for the AddModalPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            Add Event\n        </ion-title>\n        <ion-buttons start>\n            <button ion-button (click)="this.dismiss()">\n                <span ion-text color="primary" showWhen="ios">Cancel</span>\n                <ion-icon name="md-close" showWhen="android,windows,core"></ion-icon>\n            </button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n    <ion-item>\n        <ion-label color="primary" stacked>Event Name</ion-label>\n        <ion-input type="text" placeholder="Event Name Input" [(ngModel)]="name"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>Address</ion-label>\n        <ion-input type="text" placeholder="Address Input" [(ngModel)]="address" id="autocomplete"></ion-input>\n        <button ion-button item-right (click)="setCurrentLocation()"><ion-icon name="locate"></ion-icon></button>\n    </ion-item>\n    \x3c!--<ion-grid style="width: 100%">--\x3e\n        \x3c!--<ion-row>--\x3e\n        \x3c!--<ion-col>--\x3e\n            \x3c!--<ion-label color="primary" stacked>Latitude</ion-label>--\x3e\n            \x3c!--<ion-input style="border-style: solid; border-width: 1px;" type="number" placeholder="latitude" [(ngModel)]="lat" id="lat" step=".00000001"></ion-input>--\x3e\n        \x3c!--</ion-col>--\x3e\n        \x3c!--<ion-col>--\x3e\n            \x3c!--<ion-label color="primary" stacked>Longitude</ion-label>--\x3e\n            \x3c!--<ion-input style="border-style: solid; border-width: 1px;" type="number" placeholder="Longitude" [(ngModel)]="lng" id="lng" step=".00000001"></ion-input>--\x3e\n        \x3c!--</ion-col>--\x3e\n        \x3c!--</ion-row>--\x3e\n    \x3c!--</ion-grid>--\x3e\n    <ion-item>\n        <ion-label color="primary" stacked>Description</ion-label>\n        <ion-textarea type="text" placeholder="Description Input" [(ngModel)]="description"></ion-textarea>\n    </ion-item>\n    <ion-item>\n        <ion-label>Category</ion-label>\n        <ion-select *ngIf="getCategories()" [(ngModel)]="category" interface="popover">\n            <ion-option  *ngFor="let cat of getCategories()" value="{{cat}}">{{cat}}</ion-option>\n        </ion-select>\n    </ion-item>\n    <ion-item>\n        <ion-label *ngIf="isPublic">Public</ion-label>\n        <ion-label *ngIf="!isPublic">Private</ion-label>\n        <ion-toggle (ionChange)="isPublic = !isPublic"></ion-toggle>\n    </ion-item>\n    \x3c!--TODO do start and end date for event--\x3e\n    <button ion-button block (click)="this.submit()">SUBMIT</button>\n</ion-content>\n'}),d("design:paramtypes",[i.h,i.i,a.a,s.a,i.g,o.ChangeDetectorRef,l.a])],g)},106:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(0),i=n(325),a=(n.n(i),n(191)),r=(n.n(a),n(365)),s=n(46),c=n(68),l=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var n=this;this.stomp=e,this.googleMapService=t,this.v="init",this.objs=new Map,this.response=function(e){return e},e.configure({host:s.a.getHost().concat("/gs-guide-websocket"),debug:!0,queue:{init:!1}}),e.startConnect().then(function(){e.done(n.v),console.log("connected"),n.subscriptionMessaging=e.subscribe("/topic/messaging",function(e){n.data=e}),n.subscriptionEvent=e.subscribe("/topic/addEvent",function(e){n.parseResults(e)})})}return e.prototype.parseResults=function(e){console.log(e);var t=e;"object"!=typeof e&&(t=JSON.parse(e));for(var n in t)this.objs.has(n)||this.objs.set(n,new r.a(n,t[n],this.home,this.googleMapService))},e.prototype.sendMessage=function(e){var t=this;this.stomp.after(this.v).then(function(){t.stomp.send("/app/messages",e)})},e.prototype.sendMessageWithDestination=function(e,t){var n=this;this.stomp.after(this.v).then(function(){n.stomp.send(t,e)})},e.prototype.getStomp=function(){return this.stomp},e.prototype.getResponse=function(){return this.data},e.prototype.getEventData=function(){return this.objs},e.prototype.setMap=function(e){this.map=e},e.prototype.setHome=function(e){this.home=e},e}();d=l([Object(o.Injectable)(),p("design:paramtypes",[a.StompService,c.a])],d)},112:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){return function(){this.eventsGoing=new Array,this.eventsMade=new Array,this.messageIds=new Array}}()},145:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=145},187:function(e,t,n){function o(e){var t=i[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"../pages/add-modal/add-modal.module":[190],"../pages/event/event.module":[208],"../pages/login/login.module":[214],"../pages/loginpage/loginpage.module":[210],"../pages/objects/object.module":[218],"../pages/search-google-maps/search-google-maps.module":[188],"../pages/signuppage/signuppage.module":[212],"../pages/user/user.module":[411,0],"../pages/userinfopage/userinfopage.module":[216]};o.keys=function(){return Object.keys(i)},o.id=187,e.exports=o},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"SearchGoogleMapsPageModule",function(){return s});var o=n(0),i=n(12),a=n(189),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},189:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(0),i=n(12),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.navCtrl=e,this.navParams=t}return e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad SearchGoogleMapsPage")},e}();s=a([Object(i.d)(),Object(o.Component)({selector:"page-search-google-maps",template:'\x3c!--\n  Generated template for the SearchGoogleMapsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>SearchGoogleMaps</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <iframe style="width: 100%; height: 100%"\n          frameborder="0" style="border:0"\n          src="https://www.google.com/maps/embed/v1/place&key=AIzaSyB8C1WRZUIDFfKa35--maD2vYYcP440clw&libraries=places"></iframe>\n</ion-content>\n'}),r("design:paramtypes",[i.h,i.i])],s)},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AddModalPageModule",function(){return s});var o=n(0),i=n(12),a=n(105),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},207:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){return function(){this.display=!1}}()},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"EventPageModule",function(){return s});var o=n(0),i=n(12),a=n(209),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},209:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(0),i=n(12),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.navCtrl=e,this.navParams=t,this.obj=t.get("obj")}return e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad EventPage")},e.prototype.dismiss=function(){this.navCtrl.pop(this)},e}();s=a([Object(i.d)(),Object(o.Component)({selector:"page-event",template:'\x3c!--\n  Generated template for the AddModalPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Event: {{this.obj.name}}\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="this.dismiss()">\n        <span ion-text color="primary" showWhen="ios">Cancel</span>\n        <ion-icon name="md-close" showWhen="android,windows,core"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n\n  <ion-content padding>\n    <ion-item>\n      <ion-label color="primary" stacked>Event Name</ion-label>\n      <ion-input type="text" readonly="true" placeholder="Event Name Input" [(ngModel)]="this.obj.name"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label color="primary" stacked>Address</ion-label>\n      <ion-input type="text" readonly="true" placeholder="Address Input" [(ngModel)]="this.obj.address"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label color="primary" stacked>Description</ion-label>\n      <ion-input type="text" readonly="true" placeholder="Description Input" [(ngModel)]="this.obj.description"></ion-input>\n    </ion-item>\n    \x3c!--<button ion-button block (click)="this.submit()">SUBMIT</button>--\x3e\n</ion-content>\n'}),r("design:paramtypes",[i.h,i.i])],s)},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LoginpagePageModule",function(){return s});var o=n(0),i=n(12),a=n(211),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},211:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(0),i=n(12),a=n(47),r=n(112),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n,o){this.navCtrl=e,this.navParams=t,this.toast=n,this.loginService=o,this.email="",this.password="",this.myClientId="628531512920-5ch9465je33jersarg01eqd1147u7kkm.apps.googleusercontent.com",this.parent=t.get("login")}return e.prototype.initGoogleLogin=function(){var e=this;gapi.signin2.render("my-signin2",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"dark",onsuccess:function(t){console.log(t),e.toast.create({message:"Welcome "+t.getBasicProfile().getName(),duration:2e3}).present(),e.dismiss()},onfailure:function(t){console.log(t),e.toast.create({message:"Failed To login: "+t,duration:2e3}).present()}})},e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad LoginpagePage")},e.prototype.ngAfterViewInit=function(){var e=this;gapi.load("auth2",function(){e.auth2=gapi.auth2.init({client_id:e.myClientId,cookie_policy:"single_host_origin",scope:"profile email"}),e.attachSignin(document.getElementById("glogin"))})},e.prototype.attachSignin=function(e){var t=this;this.auth2.attachClickHandler(e,{},function(e){console.log(e),localStorage.setItem("googleUser",JSON.stringify(e.getBasicProfile())),t.loginService.loginWithGoogle(e.getAuthResponse().id_token).subscribe(function(n){n?t.loginService.getUserData(e.getAuthResponse().id_token).subscribe(function(e){t.loginSuccess(e.firstName)},function(e){return t.errorHandle(e)}):t.errorHandle("")},function(e){return t.errorHandle(e)})},function(e){t.errorHandle(e)})},e.prototype.submitLogin=function(){var e=this,t=new r.a;t.email=this.email,t.password=this.password,this.loginService.login(t).subscribe(function(t){null==t&&e.errorHandle(""),e.loginSuccess("")},function(t){return e.errorHandle(t)})},e.prototype.loginSuccess=function(e){this.toast.create({message:"Hello: "+this.loginService.user.email,duration:2e3}).present(),this.dismiss()},e.prototype.errorHandle=function(e){this.toast.create({message:"Can't login "+e,duration:2e3}).present()},e.prototype.dismiss=function(){this.parent.dismiss()},e}();l=s([Object(i.d)(),Object(o.Component)({selector:"page-loginpage",template:'\x3c!--\n  Generated template for the LoginpagePage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n    <ion-navbar [hidden]="true" *navbar>\n        <ion-title></ion-title>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content padding>\n    <ion-item>\n        <ion-label color="primary" stacked>Email</ion-label>\n        <ion-input type="email" placeholder="Email Input" required [(ngModel)]="email"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>Password</ion-label>\n        <ion-input type="password" required placeholder="Password" [(ngModel)]="password"></ion-input>\n    </ion-item>\n    <button ion-button full (click)="submitLogin()">Login</button>\n    \x3c!--<div id="my-signin2"></div>--\x3e\n    <button ion-button full color="danger" id="glogin">\n        <ion-icon name="logo-google" item-left></ion-icon>\n        oogle\n    </button>\n</ion-content>\n'}),c("design:paramtypes",[i.h,i.i,i.k,a.a])],l)},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"SignuppagePageModule",function(){return s});var o=n(0),i=n(12),a=n(213),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},213:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(0),i=n(12),a=n(47),r=n(112),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n,o){this.navCtrl=e,this.navParams=t,this.loginService=n,this.toast=o,this.email="",this.password="",this.passwordRepeat="",this.firstName="",this.lastName="",this.parent=t.get("login")}return e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad SignuppagePage")},e.prototype.registerUser=function(){var e=this;this.password!=this.passwordRepeat&&this.toast.create({message:"Passwords Don't match, please try again",duration:2e3}).present();var t=new r.a;t.email=this.email,t.password=this.password,t.firstName=this.firstName,t.lastName=this.lastName,this.loginService.register(t).subscribe(function(t){null==t&&e.errorHandle(""),e.loginSuccess("")},function(t){return e.errorHandle(t)})},e.prototype.loginSuccess=function(e){this.toast.create({message:"Hello: "+this.loginService.user.email,duration:2e3}).present(),this.dismiss()},e.prototype.errorHandle=function(e){this.toast.create({message:"Can't login "+e,duration:2e3}).present()},e.prototype.dismiss=function(){this.parent.dismiss()},e}();l=s([Object(i.d)(),Object(o.Component)({selector:"page-signuppage",template:'\x3c!--\n  Generated template for the SignuppagePage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n\n    <ion-navbar [hidden]="true" *navbar>\n        <ion-title></ion-title>\n    </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n    <ion-item>\n        <ion-label color="primary" stacked>Email</ion-label>\n        <ion-input type="email" required placeholder="Email Input" [(ngModel)]="email"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>Password</ion-label>\n        <ion-input type="password" required placeholder="Password" [(ngModel)]="password"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>Password Repeat</ion-label>\n        <ion-input type="password" required placeholder="Password Repeat" [(ngModel)]="passwordRepeat"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>First Name</ion-label>\n        <ion-input type="text" required placeholder="First Name Input" [(ngModel)]="firstName"></ion-input>\n    </ion-item>\n    <ion-item>\n        <ion-label color="primary" stacked>Last Name</ion-label>\n        <ion-input type="text" required placeholder="Last Name Input" [(ngModel)]="lastName"></ion-input>\n    </ion-item>\n    <button ion-button full (click)="registerUser()">Register</button>\n    <button ion-button full color="danger">\n        <ion-icon name="logo-google" item-left></ion-icon>\n        oogle\n    </button>\n</ion-content>\n'}),c("design:paramtypes",[i.h,i.i,a.a,i.k])],l)},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LoginPageModule",function(){return s});var o=n(0),i=n(12),a=n(215),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},215:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(0),i=n(12),a=n(211),r=n(213),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this.navCtrl=e,this.navParams=t,this.toast=n,this.tab1Root=a.a,this.tab1Params={login:this},this.tab2Root=r.a,this.tab2Params={login:this}}return e.prototype.dismiss=function(){this.navCtrl.pop(this)},e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad LoginpagePage")},e.prototype.attachSignin=function(e){var t=this;this.auth2.attachClickHandler(e,{},function(e){console.log(e),t.toast.create({message:"Welcome "+e.getBasicProfile().getName(),duration:2e3}).present(),t.dismiss()},function(e){console.log(e),this.toast.create({message:"Failed To login: "+e,duration:2e3}).present()})},e}();l=s([Object(i.d)(),Object(o.Component)({selector:"page-login",template:'\x3c!--\n  Generated template for the LoginPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n  <ion-navbar>\n    <ion-title>Login</ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="this.dismiss()">\n        <span ion-text color="primary" showWhen="ios">Cancel</span>\n        <ion-icon name="md-close" showWhen="android,windows,core"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-tabs selectedIndex="0" tabbarPlacement="top">\n    <ion-tab [root]="tab1Root" tabTitle="Login" tabIcon="contact" [rootParams]="tab1Params"></ion-tab>\n    <ion-tab [root]="tab2Root" tabTitle="Sign Up" tabIcon="construct" [rootParams]="tab2Params"></ion-tab>\n  </ion-tabs>\n</ion-content>\n'}),c("design:paramtypes",[i.h,i.i,i.k])],l)},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"UserinfopagePageModule",function(){return s});var o=n(0),i=n(12),a=n(217),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},217:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(0),i=n(12),a=n(47),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n){this.navCtrl=e,this.navParams=t,this.loginService=n}return e.prototype.dismiss=function(){this.navCtrl.pop(this)},e.prototype.getUser=function(){return this.loginService.user},e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad UserinfopagePage")},e}();c=r([Object(i.d)(),Object(o.Component)({selector:"page-userinfopage",template:'\x3c!--\n  Generated template for the UserinfopagePage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      {{getUser().firstName}}\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="this.dismiss()">\n        <span ion-text color="primary" showWhen="ios">Cancel</span>\n        <ion-icon name="md-close" showWhen="android,windows,core"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n\n<ion-content padding> \x3c!--Make these editable--\x3e\n  <ion-img src="{{getUser().imageUrl}}" style="width: 100px; height: 100px"></ion-img>\n  <ion-item><ion-label>{{getUser().firstName}}</ion-label></ion-item>\n  <ion-item><ion-label>{{getUser().lastName}}</ion-label></ion-item>\n  <ion-item><ion-label>{{getUser().email}}</ion-label></ion-item>\n  <ion-item><ion-label>{{getUser().username}}</ion-label></ion-item>\n  <ion-item><ion-label>{{getUser().dateCreated}}</ion-label></ion-item>\n  <ion-item><ion-label>{{getUser().dateLastLogin}}</ion-label></ion-item>\n  \x3c!--You\'re going to -> You created -> suggestions event name, event description, number of people going--\x3e\n</ion-content>\n'}),s("design:paramtypes",[i.h,i.i,a.a])],c)},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ObjectPageModule",function(){return s});var o=n(0),i=n(12),a=n(366),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=function(){return function(){}}();s=r([Object(o.NgModule)({declarations:[a.a],imports:[i.e.forChild(a.a)]})],s)},262:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var o=n(0),i=n(12),a=n(111),r=n(105),s=n(209),c=n(106),l=n(392),p=(n.n(l),n(399)),d=(n.n(p),n(215)),g=n(266),u=n(267),h=n(207),f=n(68),m=n(46),y=n(47),b=n(7),v=(n.n(b),n(217)),M=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=C=function(){function e(e,t,n,o,i,a,r,s,c,l,p){var d=this;this.navCtrl=e,this.http=t,this.modalCtrl=n,this.chatService=o,this.loginService=i,this.plt=a,this.geolocation=r,this.googleMaps=s,this.loadingCtrl=c,this.toast=l,this.googleMapsService=p,this.center="USA",this.zoom="4",this.canGetCurrentLocation=!0,this.isPublic=!0,this.searchEvents="",this.rootPage=C,this.inputValue="",this.marker=new h.a,this.loading=!0,localStorage.setItem("platform",JSON.stringify(this.plt.platforms())),(this.loadingWindow=this.loadingCtrl.create({content:"Please wait..."})).present(),this.chatService.setHome(this),this.initialGet();var g=JSON.parse(localStorage.getItem("viewLocation"));if(g){var u=JSON.parse(localStorage.getItem("viewLocation")).location;u.latitude&&u.longitude&&(this.viewLocation=u)}var f=JSON.parse(localStorage.getItem("location"));f&&(f=JSON.parse(localStorage.getItem("location")).location),null!=f&&f.latitude&&f.longitude||(f=g),null!=f&&f.latitude&&f.longitude&&(this.currentLocation=f,"undefined"!=typeof google&&(this.currentLocationLatLng=new google.maps.LatLng(this.currentLocation.latitude,this.currentLocation.longitude)),this.center=this.currentLocation.latitude+","+this.currentLocation.longitude,this.zoom="10");var m=localStorage.getItem("zoom");m&&(this.zoom=m);var y=localStorage.getItem("isLockedOnCenter");y&&(this.googleMapsService.isLockedOnCenter="true"==y),a.is("core")&&navigator.geolocation?(navigator.geolocation.getCurrentPosition(function(e){d.setLocation(e),d.canGetCurrentLocation=!0},function(e){d.toast.create({message:"Can't get gps location "+e,duration:1e4}).present(),d.canGetCurrentLocation=!1}),navigator.geolocation.watchPosition(function(e){d.setLocation(e),d.canGetCurrentLocation=!0})):(this.geolocation.getCurrentPosition().then(function(e){d.setLocation(e),d.canGetCurrentLocation=!0}).catch(function(e){console.log("Error getting location",e),d.toast.create({message:"Can't get gps location "+e,duration:1e4}).present(),d.canGetCurrentLocation=!1}),this.geolocation.watchPosition().subscribe(function(e){d.canGetCurrentLocation=!0,d.setLocation(e)}),this.plt.ready().then(function(){d.loadMap()}))}return e.prototype.getCurrentLocation=function(){return this.currentLocationLatLng&&this.currentLocationLatLng.lng()&&this.currentLocationLatLng.lat()?this.currentLocationLatLng:new google.maps.LatLng(37.09024,-95.712891)},e.prototype.isLoggedIn=function(){return this.loginService.isLoggedIn},e.prototype.getUser=function(){return this.loginService.user},e.prototype.userProfilePopUp=function(){var e=this;this.loginService.isLoggedIn?this.modalCtrl.create(v.a).present():this.loginPopup(function(){e.loginService.isLoggedIn&&e.createAddModal()})},e.prototype.ngAfterViewInit=function(){var e=this;this.googleMapsService.initialize("mapm"),b.Observable.create(function(t){"undefined"!=typeof google&&(console.log("Google is now defined"),e.googleMapsService&&e.googleMapsService.getMap()&&(console.log("Google Map is now defined"),t.next(!0),t.complete()))}).subscribe(function(t){t&&e.init()})},e.prototype.init=function(){var e=this;google.maps.event.addListenerOnce(this.googleMapsService.getMap(),"tilesloaded",function(){console.log("Google Maps Tiles are now loaded"),e.loadingWindow.dismiss(),e.loading=!1,e.googleMapsService.setCurrentLocation(e.currentLocationLatLng),e.googleMapsService.getMap().setCenter(e.currentLocationLatLng),e.googleMapsService.getMap().setZoom(+e.zoom)})},e.prototype.clearResults=function(){this.googleMapsService.clearResults(),this.inputValue=""},e.prototype.geocodeCenter=function(e){var t=this;this.geocoder.geocode({address:e},function(e,n){if(n==google.maps.GeocoderStatus.OK){var o=e[0].geometry.location;t.currentLocationLatLng=o,t.gMap.setCenter(o)}else console.log(n)})},e.prototype.setLocation=function(e){this.currentLocation=e.coords,this.currentLocationLatLng=new google.maps.LatLng(this.currentLocation.latitude,this.currentLocation.longitude),this.googleMapsService.setCurrentLocation(this.currentLocationLatLng),this.centerMarker&&this.centerMarker.setPosition(this.getCurrentLocation()),this.googleMapsService.isLockedOnCenter&&this.gMap&&this.gMap.setCenter(this.getCurrentLocation()),this.center=this.currentLocation.latitude+","+this.currentLocation.longitude,this.zoom="10"},e.prototype.getMessage=function(){return this.chatService.getResponse()},e.prototype.sendMsg=function(e){this.chatService.sendMessage(e)},e.prototype.initialGet=function(){var e=this,t=m.a.uuid();this.isLoggedIn()&&(t=this.loginService.user.userId);var n=new a.a;n.set("userId",t),this.http.post(m.a.getHost().concat("/getEvents"),"",{headers:n}).subscribe(function(t){e.chatService.parseResults(t._body.toString())},function(e){console.log(e)}),this.http.get(m.a.getHost().concat("/getCategories")).subscribe(function(e){localStorage.setItem(m.a.categories,e._body)},function(e){console.log(e)})},e.prototype.getCategories=function(){return m.a.getCategories()},e.prototype.getMarkers=function(){if(this.chatService.objs||!(this.getObjs().length>0)){var e=[];for(var t in this.getObjs())e.push(this.chatService.objs.get(this.getObjs()[t]));return e}},e.prototype.copps=function(e){return Array.from(e)},e.prototype.getObjs=function(){return this.copps(this.chatService.objs.keys())},e.prototype.createAddModal=function(){var e=this;this.loginService.isLoggedIn?this.showAddModal():this.loginPopup(function(){e.loginService.isLoggedIn&&e.createAddModal()})},e.prototype.showAddModal=function(){this.modalCtrl.create(r.a,{map:this.gMap,currentLocation:this.getCurrentLocation()}).present()},e.prototype.clickObj=function(e){var t=this,n=this.modalCtrl.create(s.a,{obj:this.chatService.objs.get(e)});n.onDidDismiss(function(n,o){t.chatService.objs.get(e).didClick=!1}),n.present()},e.prototype.isGoing=function(e){return!1},e.prototype.imGoingClick=function(e){this.loginService.isLoggedIn||this.loginPopup(null),this.loginService.user&&console.log()},e.prototype.imNotGoingClick=function(e){this.loginService.isLoggedIn||this.loginPopup(null),this.loginService.user&&console.log()},e.prototype.loginPopup=function(e){var t=this.modalCtrl.create(d.a);e&&t.onDidDismiss(e),t.present()},e.prototype.loadMap=function(){var e=this;this.mapElement=document.getElementById("map");var t={camera:{target:{lat:this.currentLocation.latitude,lng:this.currentLocation.longitude},zoom:+this.zoom}};(this.map=this.googleMaps.create(this.mapElement,t)).setMyLocationEnabled(!0),this.map.one(u.b.MAP_READY).then(function(){console.log("Map is ready!"),e.map.addMarker({title:"Ionic",icon:"blue",animation:"DROP",position:{lat:e.currentLocation.latitude,lng:e.currentLocation.longitude}}).then(function(e){e.on(u.b.MARKER_CLICK).subscribe(function(){alert("clicked")})})})},e}();w=C=M([Object(o.Component)({selector:"page-home",template:'<ion-header>\n  <ion-navbar>\n    <ion-title text-center>\n      It\'s Up to You\n    </ion-title>\n\n    <ion-buttons end>\n      <button *ngIf="!isLoggedIn()" color="primary" ion-button (click)="loginPopup()">LOG IN</button>\n      <button *ngIf="isLoggedIn()" color="primary" ion-button (click)="userProfilePopUp()">{{getUser().email}}</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-fab right bottom id="addFab">\n    <button ion-fab (click)="this.createAddModal()"><ion-icon name="add"></ion-icon></button>\n  </ion-fab>\n\n  <div id="search" style="white-space: nowrap; width: 50%;">\n    <input id="pac-input" class="controls" type="text" placeholder="Search Box" style="width: 90%; height: 100%" [(ngModel)]="inputValue">\n    <button style="background-color: rgba(0, 0, 0, 0.01); padding-right: 0px; padding-left:0;" (click)="clearResults()" right>\n      <ion-icon name="close-circle" style="display: inline-block;"></ion-icon>\n    </button>\n  </div>\n\n  <div id="searchBox">\n    <ion-item color="dark">\n      <ion-label>Category</ion-label>\n      <ion-select *ngIf="getCategories()" [(ngModel)]="category" interface="popover" multiple="true">\n        <ion-option  *ngFor="let cat of getCategories()" value="{{cat}}">{{cat}}</ion-option>\n      </ion-select>\n    </ion-item>\n    <ion-item color="dark">\n      <ion-label *ngIf="!isPublic">Private</ion-label>\n      <ion-label *ngIf="isPublic">Public</ion-label>\n      <ion-toggle (ionChange)="isPublic = !isPublic"></ion-toggle>\n    </ion-item>\n    <ion-item color="dark">\n      <ion-label color="primary" stacked>Search Events</ion-label>\n      <ion-input type="text" placeholder="Search Events" [(ngModel)]="searchEvents"></ion-input>\n    </ion-item>\n  </div>\n\n  <div id="mapm" style="height: 100%"></div>\n  <div id="signin-button"></div>\n  \x3c!--<div *ngIf="plt.is(\'android\') || plt.is(\'ios\')" eventId="map" style="height: 90%">--\x3e\n    \x3c!--&lt;!&ndash;<p>{{this.currentLocation.latitude}}  ,  {{this.currentLocation.longitude}}</p>&ndash;&gt;--\x3e\n  \x3c!--</div>--\x3e\n\n  \x3c!--<ion-list no-lines eventId="chatRooms-list2" class="listv">--\x3e\n    \x3c!--<ion-list-header>--\x3e\n      \x3c!--Messages--\x3e\n    \x3c!--</ion-list-header>--\x3e\n    \x3c!--<ion-item *ngFor="let message of channelMessages" style="width: 100%">--\x3e\n      \x3c!--<p class="bubble left" *ngIf="message.sender === user"><span style="font-size:20px;">{{message.sender}}:</span><br>{{message.msg}}</p>--\x3e\n      \x3c!--<p class="bubble right" *ngIf="message.sender !== user"><span style="font-size:20px;">{{message.sender}}:</span><br>{{message.msg}}</p>--\x3e\n    \x3c!--</ion-item>--\x3e\n  \x3c!--</ion-list>--\x3e\n  \x3c!--<div>--\x3e\n    \x3c!--<input type="text" #msgInput name="" value="Type Your Message">--\x3e\n    \x3c!--<button (click)="this.sendMsg(msgInput.value)">Send</button>--\x3e\n    \x3c!--<br>--\x3e\n    \x3c!--&lt;!&ndash;<p>{{this.getMessage()}}</p>&ndash;&gt;--\x3e\n  \x3c!--</div>--\x3e\n</ion-content>'}),L("design:paramtypes",[i.h,a.b,i.g,c.a,y.a,i.j,g.a,u.a,i.f,i.k,f.a])],w);var C},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(286),i=n(302);Object(o.a)().bootstrapModule(i.a)},302:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o=n(40),i=n(0),a=n(12),r=n(258),s=n(261),c=n(391),l=n(262),p=n(111),d=n(190),g=n(218),u=n(208),h=n(401),f=n(191),m=(n.n(f),n(106)),y=n(214),b=n(210),v=n(212),M=n(188),L=n(266),w=n(267),C=n(25),k=n(68),P=n(47),x=n(216),O=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},S=function(){return function(){}}();S=O([Object(i.NgModule)({declarations:[c.a,l.a],imports:[o.a,g.ObjectPageModule,u.EventPageModule,p.c,d.AddModalPageModule,y.LoginPageModule,b.LoginpagePageModule,v.SignuppagePageModule,M.SearchGoogleMapsPageModule,x.UserinfopagePageModule,C.a,C.d,h.a.forRoot({apiUrl:"AIzaSyD7unYcjIEqiieCDx2Q9pz1GRh07uir_J0"}),a.c.forRoot(c.a,{},{links:[{loadChildren:"../pages/search-google-maps/search-google-maps.module#SearchGoogleMapsPageModule",name:"SearchGoogleMapsPage",segment:"search-google-maps",priority:"low",defaultHistory:[]},{loadChildren:"../pages/add-modal/add-modal.module#AddModalPageModule",name:"AddModalPage",segment:"add-modal",priority:"low",defaultHistory:[]},{loadChildren:"../pages/event/event.module#EventPageModule",name:"EventPage",segment:"event",priority:"low",defaultHistory:[]},{loadChildren:"../pages/loginpage/loginpage.module#LoginpagePageModule",name:"LoginpagePage",segment:"loginpage",priority:"low",defaultHistory:[]},{loadChildren:"../pages/signuppage/signuppage.module#SignuppagePageModule",name:"SignuppagePage",segment:"signuppage",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module#LoginPageModule",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/userinfopage/userinfopage.module#UserinfopagePageModule",name:"UserinfopagePage",segment:"userinfopage",priority:"low",defaultHistory:[]},{loadChildren:"../pages/objects/object.module#ObjectPageModule",name:"ObjectPage",segment:"object",priority:"low",defaultHistory:[]},{loadChildren:"../pages/user/user.module#UserPageModule",name:"UserPage",segment:"user",priority:"low",defaultHistory:[]}]})],bootstrap:[a.a],entryComponents:[c.a,l.a],providers:[s.a,r.a,f.StompService,m.a,k.a,P.a,L.a,w.a,{provide:i.ErrorHandler,useClass:a.b}]})],S)},365:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(46),i=function(){function e(e,t,n,i){var a=this;if(this.home=n,this.googleMapService=i,this.usersGoing=[],this.didClick=!1,this.geocoder=new google.maps.Geocoder,this.name=e,"("==(this.address=t.address.replace("\n","")).slice(0,1)&&(this.address=this.address.slice(1)),")"==this.address.slice(this.address.length-1)&&(this.address=this.address.slice(0,this.address.length-1)),this.position=null,t.location&&t.location.coordinates&&2==t.location.coordinates.length&&(this.position=new google.maps.LatLng(t.location.coordinates[0],t.location.coordinates[1])),this.marker=new google.maps.Marker({animation:google.maps.Animation.DROP,position:this.position}),t.category){var r=localStorage.getItem(o.a.categories),s=JSON.parse(r),c="";for(var l in s)if(s[l].name==t.category){c=s[l].imageBytes?o.a.getHost().concat("/image?imagePath="+encodeURI(s[l].url.replace("res:",""))):s[l].url;break}this.marker=new google.maps.Marker({animation:google.maps.Animation.DROP,position:this.position,icon:{url:c,scaledSize:new google.maps.Size(32,32)}})}this.position?(this.marker.setPosition(this.position),this.marker.setMap(this.googleMapService.getMap())):(this.position=new google.maps.LatLng(0,0),this.geocoder.geocode({address:this.address},function(e,t){t==google.maps.GeocoderStatus.OK?(a.position=e[0].geometry.location,a.marker.setPosition(a.position),a.marker.setMap(a.googleMapService.getMap())):console.log(t)})),this.description=t.description,this.usersGoing=t.usersGoing,this.infoWindow=new google.maps.InfoWindow({content:'\n                <div *ngIf="marker.display">\n                  Name: '+this.name+"<br/>\n                  Description: "+this.description+"<br/>\n                  Users Going: "+this.usersGoing.length+'<br/>\n        \n                  <button id="eventPage">Open Event Page</button>\n                  '+this.isGoing()+'\n                </div>\n                \x3c!--<button (click)="hideMarkerInfo()">Hide Info</button>--\x3e\n                '}),this.marker.addListener("mouseover",function(){var e=a.googleMapService.openedMarker;e.infoWindow&&e.infoWindow.close(),a.infoWindow.open(a.googleMapService.getMap(),a.marker),e.m=a,e.marker=a.marker,e.infoWindow=a.infoWindow,document.getElementById("eventPage").addEventListener("click",function(){a.didClick||(a.didClick=!0,n.clickObj(a.name))}),a.home.isGoing(a.name)?document.getElementById("going").addEventListener("click",function(){n.isGoing(a.name)}):document.getElementById("notGoing").addEventListener("click",function(){n.imNotGoingClick(a.name)})})}return e.prototype.isGoing=function(){return this.home&&this.home.isGoing(this.name)?"<button id='going'>I'm going to this</button>":"<button id='notGoing'>I'm not going to this</button>"},e}()},366:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(0),i=n(12),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.navCtrl=e,this.navParams=t}return e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ObjectPage")},e}();s=a([Object(i.d)(),Object(o.Component)({selector:"page-object",template:"\x3c!--\n  Generated template for the ObjectPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Object</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n\n</ion-content>\n"}),r("design:paramtypes",[i.h,i.i])],s)},391:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(0),i=n(12),a=n(261),r=n(258),s=n(262),c=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){return function(e,t,n){this.rootPage=s.a,e.ready().then(function(){t.styleDefault(),n.hide()})}}();p=c([Object(o.Component)({template:'<ion-nav [root]="rootPage"></ion-nav>\n'}),l("design:paramtypes",[i.j,a.a,r.a])],p)},46:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(){}return e.getHost=function(){return this.host},e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.getCategories=function(){if(localStorage.getItem(e.categories)){var t=JSON.parse(localStorage.getItem(e.categories)),n=[];for(var o in t)n.push(t[o].name);return n}console.log("No categories provided")},e}();o.host="https://uptoyouapp.com",o.categories="categories",o.user="user"},47:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(0),i=n(111),a=n(112),r=n(12),s=n(46),c=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t){var n=this;this.http=e,this.toast=t,this.isLoggedIn=!1,this.myClientId="628531512920-5ch9465je33jersarg01eqd1147u7kkm.apps.googleusercontent.com";var o=localStorage.getItem(s.a.user);o&&(this.user=JSON.parse(o),this.isTokenValid(this.user.token).subscribe(function(e){e?n.user.email?n.loggedIn():n.getUserData(n.user.token).subscribe(function(e){n.loggedIn()}):n.logOut()}))}return e.prototype.loggedIn=function(){this.isLoggedIn=!0,localStorage.setItem(s.a.user,JSON.stringify(this.user)),this.toast.create({message:"Welcome "+this.user.email,duration:2e3}).present()},e.prototype.initGoogleLogin=function(e){var t=this;gapi.load("auth2",function(){t.auth2=gapi.auth2.init({client_id:t.myClientId,cookie_policy:"single_host_origin",scope:"profile email"}),t.attachSignin(document.getElementById(e))})},e.prototype.attachSignin=function(e){var t=this;this.auth2.attachClickHandler(e,{},function(e){t.user=e;var n=e.getBasicProfile();t.user.userId=e.getId();var o=n.getName().split(" ");t.user.firstName=o[0],t.user.lastName=o[1],t.user.token=e.getAuthResponse().id_token,t.user.email=n.getEmail(),t.user.imageUrl=n.getImageUrl(),t.loggedIn()},function(e){console.log(e),this.toast.create({message:"Failed To login: "+e,duration:2e3}).present(),this.logOut()})},e.prototype.register=function(e){var t=this;this.user=e;var n=new i.a;return n.set("email",e.email),n.set("password",e.password),n.set("firstName",e.firstName),n.set("lastName",e.lastName),this.http.post(s.a.getHost().concat("/register"),"",{headers:n}).map(function(e){return t.user.token=e._body,t.isLoggedIn=!0,localStorage.setItem(s.a.user,JSON.stringify(t.user)),t.user},function(e){return t.user=null,null})},e.prototype.login=function(e){var t=this;this.user=e;var n=new i.a;return n.set("email",e.email),n.set("password",e.password),this.http.post(s.a.getHost().concat("/login"),"",{headers:n}).map(function(e){return t.isLoggedIn=!0,t.user.token=e._body,localStorage.setItem(s.a.user,JSON.stringify(t.user)),t.user},function(e){return t.user=null,null})},e.prototype.isTokenValid=function(e){var t=new i.a;return t.set("token",e),this.http.post(s.a.getHost().concat("/isValidToken"),"",{headers:t}).map(function(e){return"true"==e._body},function(e){return!1})},e.prototype.getUserData=function(e){var t=this,n=new i.a;return n.set("token",e),this.http.post(s.a.getHost().concat("/getUserData"),"",{headers:n}).map(function(e){var n=JSON.parse(e._body),o=new a.a;return o.token=n.sessionId,o.email=n.emailAddress,o.lastName=n.lastName,o.firstName=n.firstName,o.locale=n.locale,o.userGroup=n.userGroup,o.imageUrl=n.imageUrl,o.userId=n.userId,o.eventsMade.push(n.eventsMadeIds),o.eventsGoing.push(n.eventsGoingIds),t.user=o,localStorage.setItem(s.a.user,JSON.stringify(o)),o},function(e){return t.user=null,null})},e.prototype.loginWithGoogle=function(e){var t=this,n=new i.a;return n.set("token",e),this.http.post(s.a.getHost().concat("/loginWithGoogle"),"",{headers:n}).map(function(e){return localStorage.setItem("token",e._body),t.isLoggedIn=!0,!0},function(e){return t.isLoggedIn=!1,t.user=null,!1})},e.prototype.logOut=function(){this.user=null,this.isLoggedIn=!1,localStorage.removeItem(s.a.user)},e}();p=c([Object(o.Injectable)(),l("design:paramtypes",[i.b,r.k])],p)},68:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(0),i=n(46),a=n(207),r=n(105),s=n(12),c=n(7),l=(n.n(c),this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r}),p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=google.maps.places.PlacesServiceStatus,g=function(){function e(e,t){this.modalCtrl=e,this.toast=t,this.zoom=4,this.markersMap=new Map,this.searchBoxArray=new Array,this.openedMarker=new a.a,this.isLockedOnCenter=!1,this.isTimerGoing=!1,this.canGetCurrentLocation=!1,this.centerMarker="centerMarker",this.clickMarker="clickMarker",this.isEventFilterClicked=!1}return e.prototype.getMapCenter=function(){return this.getMap().getCenter()},e.prototype.getMap=function(){return google.maps&&this.map?this.map:null},e.prototype.setCurrentLocation=function(e){this.currentLocation=e,this.canGetCurrentLocation=!0;var t=this.markersMap.get(this.centerMarker);t&&(t.setMap(this.getMap()),t.setPosition(this.currentLocation),this.isLockedOnCenter&&this.getMap().setCenter(this.currentLocation))},e.prototype.initialize=function(e){var t=this;c.Observable.create(function(e){"undefined"!=typeof google&&(e.next(!0),e.complete())}).subscribe(function(n){return t.init(e)})},e.prototype.init=function(e){var t=this;this.defaultPosition=new google.maps.LatLng(37.09024,-95.712891);var n=document.getElementById(e);this.map=new google.maps.Map(n,{center:this.defaultPosition,zoom:+this.zoom}),this.geocoder=new google.maps.Geocoder,this.addCustomMarker(this.centerMarker,new google.maps.Marker({position:this.defaultPosition,animation:google.maps.Animation.DROP,icon:{url:"assets/current_location.png",scaledSize:new google.maps.Size(32,32)}})),this.addDefaultListenerToMakerWithData(this.centerMarker,{map:this.getMap(),currentLocation:this.getCurrentLocation(),setAddress:this.getCurrentLocation(),setName:"Current Location"}),this.placesService=new google.maps.places.PlacesService(this.getMap()),this.setMapProperties(),this.setUpSearchBox(),this.addYourLocationButton(),this.setUpMapListeners(),this.setPlaceInfoWindow(),this.setUpEventFilter(),c.Observable.create(function(e){document.getElementById("addFab")&&(t.getMap().controls[google.maps.ControlPosition.RIGHT_CENTER].push(document.getElementById("addFab")),e.next(),e.complete())}),this.isLockedOnCenter&&(this.secondChild.style["background-position"]="-144px 0")},e.prototype.setPlaceInfoWindow=function(){var e=this;this.getMap().addListener("click",function(t){t.latLng.lat()&&t.latLng.lng()&&e.openedMarker.infoWindow&&e.openedMarker.infoWindow.close();var n=new google.maps.InfoWindow({content:'Name: Clicked Location<br/>\n                                         <button id="createEvent">Create Event Here</button>'});n.setPosition(t.latLng),n.open(e.map),e.waitForId("createEvent","click",function(){e.modalCtrl.create(r.a,{map:e.getMap(),currentLocation:t.latLng.lat()+t.latLng.lng(),setAddress:"CLICKED_LOCATION",setName:"Clicked Location"}).present()}),e.openedMarker.infoWindow=n}),this.getMap().addListener("click",function(t){if(t.placeId){console.log(t.placeId);e.placesService.getDetails({placeId:t.placeId},function(t,n){if(n==d.OK){e.openedMarker.infoWindow&&e.openedMarker.infoWindow.close();var o=new google.maps.InfoWindow({content:"Name: "+t.name+'<br/>\n                                     <button id="createEvent">Create Event Here</button>'});o.setPosition(t.geometry.location),o.open(e.map),e.waitForId("createEvent","click",function(){e.modalCtrl.create(r.a,{map:e.getMap(),currentLocation:t.geometry.location,setAddress:t.formatted_address,setName:t.name}).present()}),e.openedMarker.infoWindow=o}});t.stop()}})},e.prototype.setMapProperties=function(){this.getMap().setOptions({mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_LEFT},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},rotateControl:!0,rotateControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,fullscreenControl:!1,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT}})},e.prototype.getCurrentLocation=function(){return this.currentLocation&&this.currentLocation.lng()&&this.currentLocation.lat()?this.currentLocation:this.defaultPosition},e.prototype.addMarker=function(e){this.markersMap.set(e,new google.maps.Marker({position:this.defaultPosition,animation:google.maps.Animation.DROP}))},e.prototype.addCustomMarker=function(e,t){this.markersMap.set(e,t)},e.prototype.addListenerToMarker=function(e,t,n){this.markersMap.get(e).addListener(t,n)},e.prototype.addDefaultListenerToMakerWithData=function(e,t){var n=this,o=this.markersMap.get(e);this.addListenerToMarker(e,"mouseover",function(){n.createInfoWindowObj(o,t)})},e.prototype.createInfoWindowObj=function(e,t){var n=this;this.openedMarker.infoWindow&&this.openedMarker.infoWindow.close();var o=new google.maps.InfoWindow({content:"Name: "+t.setName+'<br/>\n                    <button id="createEvent">Create Event Here</button>\n                    '});o.open(this.getMap(),e),this.waitForId("createEvent","click",function(){n.modalCtrl.create(r.a,t).present()}),this.openedMarker.marker=e,this.openedMarker.infoWindow=o},e.prototype.waitForId=function(e,t,n){var o=this,i=document.getElementById(e);if(i)return i.addEventListener(t,n);setTimeout(function(){o.waitForId(e,t,n)},1e3)},e.prototype.setUpMapListeners=function(){var e=this;google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.isLockedOnCenter&&e.map.setCenter(e.getCurrentLocation())}),google.maps.event.addListener(this.getMap(),"idle",function(){e.saveInfo()})},e.prototype.clearResults=function(){var e=this;this.searchBoxArray.forEach(function(t){e.markersMap.get(t).setMap(null),e.markersMap.delete(t)}),this.searchBoxArray=new Array},e.prototype.setUpSearchBox=function(){var e=this,t=document.getElementById("pac-input"),n=document.getElementById("search"),o=new google.maps.places.SearchBox(t);this.getMap().controls[google.maps.ControlPosition.TOP_CENTER].push(n),this.getMap().addListener("bounds_changed",function(){o.setBounds(e.getMap().getBounds())}),o.addListener("places_changed",function(){var t=o.getPlaces();if(0!=t.length){e.searchBoxArray.forEach(function(t){e.markersMap.get(t).setMap(null),e.markersMap.delete(t)}),e.searchBoxArray=new Array;var n=new google.maps.LatLngBounds;t.forEach(function(t){if(t.geometry){var o={url:t.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)},a=new google.maps.Marker({map:e.getMap(),icon:o,title:t.name,position:t.geometry.location}),r=i.a.uuid();e.addCustomMarker(r,a),e.addDefaultListenerToMakerWithData(r,{map:e.getMap(),currentLocation:t.geometry.location,setAddress:t.geometry.location.toString(),setName:t.name}),e.searchBoxArray.push(r),t.geometry.viewport?n.union(t.geometry.viewport):n.extend(t.geometry.location)}else console.log("Returned place contains no geometry")}),e.getMap().fitBounds(n)}})},e.prototype.addYourLocationButton=function(){var e=this,t=document.createElement("div"),n=document.createElement("button");n.style.backgroundColor="#fff",n.style.border="none",n.style.outline="none",n.style.width="28px",n.style.height="28px",n.style.borderRadius="2px",n.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",n.style.cursor="pointer",n.style.marginRight="10px",n.style.padding="0",n.title="Your Location",t.appendChild(n),(this.secondChild=document.createElement("div")).style.margin="5px",this.secondChild.style.width="18px",this.secondChild.style.height="18px",this.secondChild.style.backgroundImage='url("assets/mylocation-sprite-2x.png")',this.secondChild.style.backgroundSize="180px 18px",this.secondChild.style.backgroundPosition="0 0",this.secondChild.style.backgroundRepeat="no-repeat",n.appendChild(this.secondChild),google.maps.event.addListener(this.getMap(),"drag",function(){e.isTimerGoing||(e.secondChild.style["background-position"]="0 0",e.isLockedOnCenter=!1,localStorage.setItem("isLockedOnCenter","false"))}),n.addEventListener("click",function(){if(e.canGetCurrentLocation){var t="0",n=setInterval(function(){t="-18"===t?"0":"-18",this.secondChild.style["background-position"]=t+"px 0"},500);e.isTimerGoing=!0,e.clickedOnYourLocation=setTimeout(function(){e.isTimerGoing=!1},2e3),e.markersMap.get(e.centerMarker).setPosition(e.getCurrentLocation()),e.getMap().setCenter(e.getCurrentLocation()),e.getMap().getZoom()<10&&e.getMap().setZoom(10),localStorage.setItem("isLockedOnCenter","true"),clearInterval(n),e.secondChild.style["background-position"]="-144px 0",e.isLockedOnCenter=!0}else e.toast.create({message:"Can't get gps location",duration:1e4}).present()}),t.tabIndex=1,this.getMap().controls[google.maps.ControlPosition.RIGHT_CENTER].push(t)},e.prototype.setUpEventFilter=function(){var e=this,t=document.createElement("div");c.Observable.create(function(e){document.getElementById("searchBox")&&(e.next(!0),e.complete())}).subscribe(function(n){var o=document.createElement("div");o.style.backgroundColor="#ffffff",o.style.border="none",o.style.outline="none",o.style.width="28px",o.style.height="28px",o.style.borderRadius="2px",o.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",o.style.cursor="pointer",o.style.marginRight="10px",o.style.padding="0",o.title="Filter Events",o.style.opacity="0.85",t.appendChild(o);var i=document.createElement("div");i.style.margin="5px",i.style.width="18px",i.style.height="18px",i.style.position="relative",i.style.top="5px",i.style.backgroundImage='url("assets/icon/Magnifying_glass_icon.svg.png")',i.style.backgroundSize="100% 100%",i.style.backgroundPosition="0 0",i.style.backgroundRepeat="no-repeat",o.appendChild(i);var a=document.getElementById("searchBox");a.style.visibility="hidden",a.style.marginRight="5px",a.style.width="180px",a.style.height="180px",a.style.backgroundColor="#222222",a.style.position="relative",a.style.top="5px",a.style.right="150px",a.style.opacity="0.85",o.appendChild(a),i.addEventListener("click",function(){e.isEventFilterClicked?(o.style.backgroundColor="#ffffff",a.style.visibility="hidden"):(o.style.backgroundColor="#222222",a.style.visibility="visible"),e.isEventFilterClicked=!e.isEventFilterClicked}),t.tabIndex=1,e.getMap().controls[google.maps.ControlPosition.TOP_RIGHT].push(t)})},e.prototype.saveInfo=function(){this.canGetCurrentLocation||(this.defaultPosition=this.getMap().getCenter()),this.getMap()&&(localStorage.setItem("zoom",this.getMap().getZoom()+""),this.getMap().getCenter()&&localStorage.setItem("viewLocation",JSON.stringify({location:{latitude:this.getMap().getCenter().lat(),longitude:this.getMap().getCenter().lng()}}))),localStorage.setItem("location",JSON.stringify({location:{latitude:this.getCurrentLocation().lat(),longitude:this.getCurrentLocation().lng()}}))},e}();g=l([Object(o.Injectable)(),p("design:paramtypes",[s.g,s.k])],g)}},[285]);